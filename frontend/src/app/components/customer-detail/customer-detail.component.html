<div *ngIf="loading" class="empty">Loading customer details...</div>

<div *ngIf="!loading && customer" class="app-shell">
  <div class="card">
    <div class="card-header">
      <div>
        <div class="card-title">{{ customer.first_name }} {{ customer.last_name }}</div>
        <div class="small kv">{{ customer.email || 'No email' }}</div>
      </div>
      <div class="hstack" style="gap:0.5rem;">
        <button class="btn" (click)="editCustomer()">Edit</button>
        <button class="btn secondary" (click)="backToList()">Back</button>
      </div>
    </div>

    <div class="vstack" style="gap:0.5rem; margin-top:0.5rem;">
      <div><span class="small">Phone:</span> {{ customer.phone }}</div>
      <div><span class="small">Account Type:</span> {{ customer.account_type }}</div>
      <div><span class="small">Only One Address:</span> {{ customer.only_one_address ? 'Yes' : 'No' }}</div>
    </div>

    <div class="divider"></div>

    <h3 style="margin-bottom:0.5rem;">Addresses</h3>
    <div *ngFor="let addr of customer.addresses" class="card" style="padding:0.6rem; margin-bottom:0.5rem;">
      <div>{{ addr.address_line }}</div>
      <div class="small kv">{{ addr.city }}, {{ addr.state }}, {{ addr.pincode }} ({{ addr.country }})</div>
      <div *ngIf="addr.is_primary" class="small" style="color:var(--accent-2)">Primary</div>
    </div>
  </div>
</div>
